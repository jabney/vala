!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){!function(t){"use strict";var e=n(1),r=n(2),a={host:".vala-host",cls:"vala",useTagData:!0};t.fn.vala=function(n,s){function o(n){var a=this,o=document.getSelection();if(!o.isCollapsed){var u,c=o.getRangeAt(0),l=f++,p=r.rangeStartOffset(this,c),d=c.toString(),h=p+d.length;p>=0&&(u=s&&s.call(this,n,l,{start:p,end:h,str:d},function(n){a.innerHTML=e(t(a).text(),n,i.cls)}),u&&"function"==typeof u.then?u.then(function(n){a.innerHTML=e(t(a).text(),n,i.cls)}):Array.isArray(u)&&(this.innerHTML=e(t(this).text(),u,i.cls)))}}function u(){t(".vala-host[data-vala]").each(function(){const n=JSON.parse(this.dataset.vala);Array.isArray(n)&&(this.innerHTML=e(t(this).text(),n,i.cls))})}var c=this,i=t.extend({},a,n||{}),f=0;return i.useTagData&&u(),this.find(i.host).each(function(e){t(this).on("mouseup",o)}),{render:function(t,n){return e(t,n,i.cls)},unbind:function(){c.find(i.host).each(function(){t(this).off("mouseup")})},processTagData:u}},t.fn.vala.defaults=a}(jQuery)},function(t,e){function n(t,e,n){"use strict";if(!Array.isArray(e)||!e.length)return t;n=void 0===n?"vala":n;var a=[];return e.map(function(t,e){return[{pos:t.start,tag:t.tag,cls:t.cls,attrs:t.attrs,data:t.data,group:e},{pos:t.end||t.start+t.length,group:e}]}).reduce(function(t,e){return t.push(e[0],e[1]),t},[]).sort(function(t,e){return t.pos-e.pos}).reduce(function(e,s,o,u){if(a[s.group]?delete a[s.group]:a[s.group]=s,0===o&&s.pos>0&&e.push(t.slice(0,s.pos)),o<u.length-1){var c=t.slice(u[o].pos,u[o+1].pos);c&&e.push(a.reduce(function(t,e){return r(t,e,n)},c))}return o===u.length-1&&s.pos<t.length&&e.push(t.slice(s.pos,t.length)),e},[]).join("")}function r(t,e,n){var r=e.tag||"span",a="<#{tag}#{attrs}#{data}>"+t+"</"+r+">",s=((n||"")+" "+(e.cls||"")).trim(),o=Object.keys(e.attrs||{}).reduce(function(t,n){return t+" "+n+'="'+e.attrs[n]+'"'},""),u=Object.keys(e.data||{}).reduce(function(t,n){return t+" data-"+n+'="'+e.data[n]+'"'},"");return a.replace("#{tag}",s?r+' class="'+s+'"':r).replace("#{attrs}",o).replace("#{data}",u)}t.exports=n},function(t,e){function n(t,e){for(var n,r,a=[t],s=0;a.length;){if((n=a.pop())===e.startContainer)return s+e.startOffset;n.nodeType===Node.TEXT_NODE?s+=n.nodeValue.length:n.nodeType===Node.ELEMENT_NODE&&(r=Array.prototype.slice.call(n.childNodes,0),a=a.concat(r.reverse()))}return-1}t.exports={rangeStartOffset:n}}]);